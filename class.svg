<svg width="600" height="950" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1800">
  <defs>
    <style>
      <![CDATA[
        @import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap');
      ]]>
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#191970"/>
    </marker>
    <marker id="dependency-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" fill="none" stroke="#191970" stroke-width="1.5">
      <path d="M0,0 L10,3.5 L0,7"/>
    </marker>
    <marker id="composition" markerWidth="16" markerHeight="10" refX="15" refY="5" orient="auto">
      <polygon points="0 5, 8 0, 16 5, 8 10" fill="#191970"/>
    </marker>
  </defs>

  <style>
    .class-box { fill: none; stroke: #191970; stroke-width: 1.5px; }
    .class-name { font-family: 'Kalam', cursive, sans-serif; font-weight: bold; font-size: 24px; fill: #191970; text-anchor: middle; }
    .class-text { font-family: 'Kalam', cursive, sans-serif; font-size: 20px; line-height: 1.4; fill: #191970; }
    .separator { stroke: #191970; stroke-width: 1.5px; }
    .association { stroke: #191970; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .composition-line { stroke: #191970; stroke-width: 2; fill: none; marker-start: url(#composition); }
    .dependency { stroke: #191970; stroke-width: 2; fill: none; stroke-dasharray: 8, 4; marker-end: url(#dependency-arrow); }
  </style>

  <!-- Class Boxes -->
  <g id="user" transform="translate(50, 50)">
    <rect width="300" height="300" rx="10" class="class-box"/>
    <text x="150" y="35" class="class-name">User</text>
    <line x1="10" y1="50" x2="290" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ uid: String</tspan>
      <tspan x="20" dy="1.4em">+ name: String</tspan>
      <tspan x="20" dy="1.4em">+ email: String</tspan>
      <tspan x="20" dy="1.4em">+ role: String</tspan>
      <tspan x="20" dy="1.4em">+ learning_goal: String</tspan>
      <tspan x="20" dy="1.4em">+ availability: Map</tspan>
    </text>
    <line x1="10" y1="260" x2="290" y2="260" class="separator"/>
  </g>

  <g id="subject" transform="translate(600, 50)">
    <rect width="300" height="220" rx="10" class="class-box"/>
    <text x="150" y="35" class="class-name">Subject</text>
    <line x1="10" y1="50" x2="290" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ id: String</tspan>
      <tspan x="20" dy="1.4em">+ name: String</tspan>
      <tspan x="20" dy="1.4em">+ description: String</tspan>
      <tspan x="20" dy="1.4em">+ assigned_kp_id: String</tspan>
    </text>
    <line x1="10" y1="180" x2="290" y2="180" class="separator"/>
  </g>

  <g id="topic" transform="translate(590, 380)">
    <rect width="320" height="280" rx="10" class="class-box"/>
    <text x="160" y="35" class="class-name">Topic</text>
    <line x1="10" y1="50" x2="310" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ id: String</tspan>
      <tspan x="20" dy="1.4em">+ title: String</tspan>
      <tspan x="20" dy="1.4em">+ order: Number</tspan>
      <tspan x="20" dy="1.4em">+ status: String</tspan>
      <tspan x="20" dy="1.4em">+ next_topic_paths: Array</tspan>
    </text>
    <line x1="10" y1="240" x2="310" y2="240" class="separator"/>
  </g>
  
  <g id="chunk" transform="translate(590, 780)">
    <rect width="320" height="280" rx="10" class="class-box"/>
    <text x="160" y="35" class="class-name">ContentChunk</text>
    <line x1="10" y1="50" x2="310" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ id: String</tspan>
      <tspan x="20" dy="1.4em">+ title: String</tspan>
      <tspan x="20" dy="1.4em">+ content: String</tspan>
      <tspan x="20" dy="1.4em">+ order: Number</tspan>
      <tspan x="20" dy="1.4em">+ topic_id: String</tspan>
      <tspan x="20" dy="1.4em">+ source_document_name: String</tspan>
    </text>
    <line x1="10" y1="240" x2="310" y2="240" class="separator"/>
  </g>
  
  <g id="schedule" transform="translate(50, 550)">
    <rect width="350" height="260" rx="10" class="class-box"/>
    <text x="175" y="35" class="class-name">StudentSchedule</text>
    <line x1="10" y1="50" x2="340" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ student_id: String</tspan>
      <tspan x="20" dy="1.4em">+ subject_id: String</tspan>
      <tspan x="20" dy="1.4em">+ schedule_items: Array of Maps</tspan>
      <tspan x="20" dy="1.4em">+ last_updated_date: Timestamp</tspan>
      <tspan x="20" dy="1.4em">+ target_completion_date: Timestamp</tspan>
    </text>
    <line x1="10" y1="220" x2="340" y2="220" class="separator"/>
  </g>
  
  <g id="progress" transform="translate(50, 950)">
    <rect width="330" height="300" rx="10" class="class-box"/>
    <text x="165" y="35" class="class-name">StudentProgress</text>
    <line x1="10" y1="50" x2="320" y2="50" class="separator"/>
    <text x="20" y="70" class="class-text">
      <tspan x="20" dy="1.4em">+ student_id: String</tspan>
      <tspan x="20" dy="1.4em">+ subject_id: String</tspan>
      <tspan x="20" dy="1.4em">+ topic_path: String</tspan>
      <tspan x="20" dy="1.4em">+ status: String</tspan>
      <tspan x="20" dy="1.4em">+ quiz_score_history: Map</tspan>
      <tspan x="20" dy="1.4em">+ last_studied_date: Timestamp</tspan>
    </text>
    <line x1="10" y1="260" x2="320" y2="260" class="separator"/>
  </g>

  <g id="logic" transform="translate(300, 1400)">
    <rect width="400" height="270" rx="10" class="class-box"/>
    <text x="200" y="35" class="class-name">AdaptiveLogic</text>
    <line x1="10" y1="50" x2="390" y2="50" class="separator"/>
    <line x1="10" y1="80" x2="390" y2="80" class="separator"/>
    <text x="20" y="100" class="class-text">
      <tspan x="20" dy="1.4em">+ createInitialSchedule(user, subject)</tspan>
      <tspan x="20" dy="1.4em">+ adaptSchedule(progress)</tspan>
      <tspan x="20" dy="1.4em">+ generateQuiz(topic)</tspan>
      <tspan x="20" dy="1.4em">+ generateTutorResponse(query)</tspan>
      <tspan x="20" dy="1.4em">+ generateContentChunks(doc, topic)</tspan>
    </text>
  </g>

  <!-- Revamped Connections -->
  <g class="connections">
    <!-- Composition Lines -->
    <polyline points="750,270 750,380" class="composition-line"/>
    <polyline points="750,660 750,780" class="composition-line"/>

    <!-- Left-side Associations -->
    <polyline points="200,350 200,550" class="association"/>
    <polyline points="225,350 225,950" class="association"/>

    <!-- Right-to-Left Associations -->
    <polyline points="600,180 475,180 475,680 400,680" class="association"/>
    <polyline points="600,210 500,210 500,1100 380,1100" class="association"/>
    <polyline points="590,500 475,500 475,1120 380,1120" class="association"/>

    <!-- Dependencies from AdaptiveLogic -->
    <polyline points="380,1400 380,1320 215,1320 215,1250" class="dependency"/>
    <polyline points="500,1400 500,880 215,880 215,810" class="dependency"/>
    <polyline points="620,1400 620,1200 750,1200 750,1060" class="dependency"/>
  </g>

</svg>